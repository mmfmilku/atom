<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="./css/ui.css"/>
</head>
<body>
<style>


</style>
<script src=./js/util.js></script>
<script>
    let post = (path, data) => {
        return atom.post(path, data)
    }

    post('agent/listVm', {})
        .then(res => {
            let listHtml = res.map(e =>
                `
                <div class="vm-list-block" onclick="atom.SPA.route('edit?vmId=${e.vmId}')">
                    <div class="vm-field">
                        <label class="vm-field-label">应用名称:</label>
                        <div class="vm-field-value">${e.displayName}</div>
                    </div>
                    <div class="vm-field">
                        <label class="vm-field-label">id:</label>
                        <div class="vm-field-value">${e.vmId}</div>
                    </div>
                </div>
                `
            ).join('')
            document.querySelector('.vm-list').innerHTML  = listHtml
        })

</script>
<div id="app">
    <div id="pageMain">

        <h1>JVM列表</h1>
        <div class="vm-list flex-column">

        </div>
    </div>
</div>
</body>
</html>